# 要件

## 対象
Headerの通知アイコン押下時に表示される通知モーダルを新規実装する。
Figma（docs/figma/notify.jpg）と視覚的一致。

---

## 機能要件

### 1. モーダル表示

- `components/organisms/Header/Header.tsx` の MdNotifications 押下で表示
- スマートフォン表示のみ対応
- 表示サイズ：画面幅・高さの75%
- 表示位置：画面中央固定
- 背景は半透明グレー
- 背景スクロール禁止
- モーダル外タップで閉じる
- モーダル内部は縦スクロール可
  - 通知リストがモーダル高さを超えた場合のみスクロール発生

- 未読通知が1件以上ある場合：
  - MdNotificationsアイコンを白黒反転で強調表示

---

### 2. 通知データ構造（モック）

```ts
type Notification = {
  id: string
  storeName: string
  content: string
  receivedAt: Date
  isRead: boolean
  redirectPath: string
}
```

---

### 3. 表示仕様

- 上部に「お知らせ ○件」表示（未読件数）
- 各通知に表示：
  - 店舗名
  - 通知日時（日本標準時）
  - 通知本文
  - 「確認する」ボタン

#### 日時表示ルール

- 1日未満：
  - ○分前 または ○時間前
- 1日以上3日未満：
  - ○日前
- 3日以上：
  - yyyy/mm/dd 表示

---

### 4. 挙動

- 「確認する」押下時：
  - try-catch で router.push を実行
  - 例外が発生しなければ：
    - isRead = true に更新
    - 未読件数を再計算
    - 通知背景をグレーアウト
  - 例外が発生した場合：
    - 親モーダル内に「確認できませんでした」と表示
    - 状態は変更しない

- 全通知が isRead = true の場合：
  - 「お知らせはありません」と表示

- isRead = true の通知は削除しない
  （永続化なしのため、画面リロードで初期状態に戻る）

---

## 非機能要件

- 横スクロール禁止
- API未接続（モック実装）
- UIはFigmaとの視覚的一致を最優先
- redirectPathは内部パスのみ許可
  - "/" で始まる文字列のみ許可
  - "http" を含む文字列は禁止