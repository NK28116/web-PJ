# 設計書 (Design Document)

## 1. プラン確認・変更画面設計

### 1.1 レイアウト基本方針
- **Figma準拠**: プラン確認・変更画面のデザインはFigma定義（`docs/figma/curren-feature.png`）を正とする。
- **スマートフォン最適化**: スマートフォン表示のみ対応し、横スクロールを禁止する。

### 1.2 機能設計
- **契約ステータス表示**: 
  - ヘッダー右側に現在のプラン名とステータスバッジ（「契約中」/「未契約」）を表示。
  - 解約操作により「未契約」へ即座に遷移する。
- **ミートボールメニュー**: 
  - ヘッダー右端に「︙」アイコンを配置。
  - タップで「解約」「自動更新を停止」の2項目を表示するドロップダウンを展開。
- **契約詳細情報**:
  - 契約期間、月額料金、支払方法、次回更新日をリスト形式で表示。
  - 状態（解約済み、自動更新停止）に応じて、不要な項目の非表示化や文言の切り替えを行う。
- **アクションボタン**:
  - 未契約状態の場合、「契約する」ボタンを表示し、再契約を可能にする。

### 1.3 状態管理と表示ロジック

### 状態管理
- API未接続のためモックデータを使用する
- **状態定義**:
  - `status`: 'active'（契約中） | 'inactive'（未契約）
  - `autoRenewal`: true（有効） | false（停止）
- **表示切り替えロジック**:
  - **解約時**: ステータスを「未契約」にし、契約期間と次回更新日を非表示。
  - **自動更新停止時**: ステータスは「契約中」を維持し、次回更新日を非表示。代わりに「自動更新が設定されていません」と表示。
- **信頼性向上**:
  - null/undefined/NaNの画面表示を徹底的に排除し、データ不在時は適切な代替テキストを表示する。